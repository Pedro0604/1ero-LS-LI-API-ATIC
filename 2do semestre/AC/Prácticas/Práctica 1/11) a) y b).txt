 ORG 1000H
 NUM1 DW 2345
 NUM2 DW 5
 COC DW 10
 RES DW 3
 
 
 ORG 3000H
DIVI: PUSH BX  ;APILO REGISTROS
 PUSH CX
 PUSH DX
 MOV BX, SP
 ADD BX, 12      ;2 POR REGISTRO (6), 2 POR CALL DIVI Y 4 POR COC Y RES
                 ;BX APUNTA A LA DIRECCION DONDE ESTA APILADO NUM2
 MOV AX, [BX]    ;PONGO NUM2 EN AX
 ADD BX, 2       ;BX APUNTA A LA DIRECCION DONDE ESTA APILADO NUM1
 MOV DX, [BX]    ;PONGO NUM1 EN DX
 MOV CX, 0
 CMP AX, 0       ;SI NUM2 ES 0 TERMINA
 JZ FIN
 
LOOP: CMP DX, AX
 JS FIN         ;SI DX ES MENOR A AX TERMINA
 SUB DX, AX     ;A NUM1 LE RESTO NUM2
 INC CX
 JMP LOOP

FIN: SUB BX, 4   ;BX APUNTA A LA DIRECCION DONDE ESTA APILADO EL COC
 MOV [BX], CX    ;GUARDO EL COC EN LA PILA
 SUB BX, 2       ;BX APUNTA A LA DIRECCION DONDE ESTA LA DIR DEL RES
 MOV BX, [BX]    ;PONGO EN BX, LA DIRECCION DE RES
 MOV [BX], DX    ;PONGO DX (EL RESTO), EN LA DIRECCION DE RES
 POP DX
 POP CX
 POP BX
 RET
 
 
 ORG 2000H
 PUSH AX       ;APILO AX
 MOV AX, NUM1  ;APILO PARAMETROS
 PUSH AX
 MOV AX, NUM2
 PUSH AX
 MOV AX, COC
 PUSH AX
 MOV AX, OFFSET RES
 PUSH AX
 CALL DIVI
 POP AX
 POP AX
 MOV COC, AX
 POP AX        ;DESAPILO PARAMETROS
 POP AX
 POP AX        ;DESAPILO AX
 HLT
 END