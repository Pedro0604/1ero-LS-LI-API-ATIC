PIC EQU 20H
EOI EQU 20H
N_F10 EQU 10

ORG 1000H
 CAR DB ?

ORG 40
IP_F10 DW RUT_F10

 ORG 2000H
 CLI
 MOV AL, 0FEH
 OUT PIC+1, AL ; PIC: registro IMR
 MOV AL, N_F10
 OUT PIC+4, AL ; PIC: registro INT0
 MOV DL, 41H
 STI
 
LAZO:  INC DL
 CMP DL, 5AH
 JNZ LAZO
 MOV DL, 41H
 JMP LAZO


 ORG 3000H
RUT_F10: PUSH AX
 PUSH BX
 MOV CAR, DL
 MOV BX, OFFSET CAR
 MOV AL, 1
 INT 7
 MOV AL, EOI
 OUT EOI, AL ; PIC: registro EOI
 POP BX
 POP AX
 IRET
 END 