EOI EQU 20H
IMR EQU 21H
INT2 EQU 26H
HAND EQU 40H
EST EQU 41H


ORG 40
 DW RUT_HND


ORG 1000H
 MSJ DB "UNIVERSIDAD NACIONAL DE LA PLATA."
 FIN DB ?


ORG 2000H
 MOV AL, 80H
 OUT EST, AL
 MOV BX, OFFSET MSJ
 MOV CL, OFFSET FIN-OFFSET MSJ
CLI
 MOV AL, 11111011B
 OUT IMR, AL
 MOV AL, 10
 OUT INT2, AL
STI
LOOP:JMP LOOP

ORG 3000H
RUT_HND:PUSH AX
 MOV AL, [BX]
 OUT HAND, AL
 INC BX
 DEC CL
 JZ TERMINO
 MOV AL, EOI
 OUT EOI, AL
 POP AX
 IRET
TERMINO:IN AL, EST
 AND AL, 01111111B
 OUT EST, AL
 HLT
 END
