PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H


ORG 1000H
LETRA_A DB "A"


ORG 2000H
 MOV AL, 0
 OUT CB, AL          ;PB TODO SALIDA
 MOV AL, 11111101B   ;STROBE: OUT  BUSY: IN
 OUT CA, AL
 IN AL, PA
 AND AL, 11111101B   ;FUERZ0 STROBE A 0
 OUT PA, AL

POLL:IN AL, PA
 AND AL, 00000001B    ;VEO EL BIT DE BUSY
 JNZ POLL
 MOV AL, LETRA_A
 OUT PB, AL
 IN AL, PA
 OR AL, 00000010B   ;FUERZ0 STROBE A 1
 OUT PA, AL
 HLT
 END
