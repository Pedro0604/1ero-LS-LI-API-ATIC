TIMER EQU 10H
COMP EQU 11H
EOI EQU 20H
IMR EQU 21H
INT1 EQU 25H
PA EQU 30H
CA EQU 32H

ORG 1000H
 CODIGO DB "DJHOSIFUOJNSGSLJK34857783479DFIGHDFKJjcviehfkgbfgi38494KF94R4OFJLSPNWE3434"
 FIN DB ?


ORG 40
DW RUT_TIMER


ORG 2000H
 MOV BX, OFFSET CODIGO
 MOV CX, OFFSET FIN-OFFSET CODIGO
 CLI
 MOV AL, 11111101B
 OUT IMR, AL
 MOV AL, 10
 OUT INT1, AL
 MOV AL, 0
 OUT CA, AL
 MOV AL, 1
 OUT COMP, AL
 MOV AL, 0
 OUT TIMER, AL
 STI
LOOP:CMP CX, 0
 JNZ LOOP
 JMP FINP

ORG 3000H
RUT_TIMER:PUSH AX
 MOV AL, [BX]
 OUT PA, AL
 INC BX
 DEC CX
 MOV AL, EOI
 OUT EOI, AL
 MOV AL, 0
 OUT TIMER, AL
 POP AX
 IRET
FINP:HLT
END
